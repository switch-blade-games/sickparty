<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>xi_bot_spr</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>FLIP=1

WAIT=1
GRAPOUT=2
GRAPWAIT=3

GRAPSHOTS=3

GRAPSHOTrate=60
GRAPSHOTnoise=60

GRAPGO=4

GOspe=6

GRAPHANG=5

state=WAIT

STARrate=120
STARnoise=60

HUNNYrate=180

HUNNYnum=4

alarm[0]=2

//pull from list
GRAPtarget=ds_list_find_value(global.GRAPlist,0)


var GRAPfindx=0;
var GRAPfindy=0;

var CONVERT=0;

if(GRAPtarget=0)
CONVERT=6

if(GRAPtarget=1)
CONVERT=7

if(GRAPtarget=2)
CONVERT=8

with(hunny_node){

    if(SET=CONVERT){
        GRAPfindx=x
        GRAPfindy=y
    }
}

//now xi knows where to go
GRAPx=GRAPfindx
GRAPy=GRAPfindy
        

ds_list_delete(global.GRAPlist,0)

//if list is empty, replenish via xi_tracker
if(ds_list_empty(global.GRAPlist)=true)
    with(xi_tracker)
        alarm[0]=2
        
  

        
//placement of the arm
ARMx=-10
ARMy=-40
    
//variables related to the grapple arm
GRAPdir=point_direction(x+ARMx,y+ARMy,GRAPx,GRAPy);
GRAPlen=0
GRAPlenmax=point_distance(x+ARMx,y+ARMy,GRAPx,GRAPy);
GRAPnum=12;

ARMBACKspe=3
ARMdecayspe=0.2
ARMOUTspe=6
//

var i=0;

var ME=id;

//create arm
repeat(GRAPnum){

    GRAPson[i]=instance_create(ARMx*FLIP,ARMy,grap_arm);
    with(GRAPson[i])
        event_perform(ev_create,0)
    GRAPson[i].dad=ME
    GRAPson[i].set=i
    if(i=(GRAPnum-1))
        GRAPson[i].hand=true
        
    i+=1
}
    
    

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i=0;
    
    repeat(GRAPnum){
    
        with(GRAPson[i])
            instance_destroy()
        i+=1
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hunny bomb ///finish attack!!!

HUNNYnum-=1

if(HUNNYnum&lt;=0){

    

    instance_create(x,y,xi_return)
    with(xi_return)
        motion_set(270,1)
    instance_destroy()
    
    with(china_star_center)
        instance_destroy()
    
    exit
}

instance_create(x,y,hunny_bomb)

alarm[5]=HUNNYrate




</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///china star blast

instance_create(x,y,china_star_center)

alarm[4]=STARrate+random(STARnoise)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///GRAP GO

state=GRAPGO

motion_set(point_direction(x,y,GRAPx,GRAPy),GOspe)


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Grapple Electric Attack

alarm[3] = 2;

var HANDson = GRAPson[GRAPnum-1];

// left wrapping projectiles
var inst = instance_create(x,y,rolling_elec_ball);
    inst.direction = 180; // left
var inst = instance_create(x,y,rolling_elec_ball);
    inst.direction = 180; // left
    inst.roll_dir = -1;

// right wrapping projectiles
var inst = instance_create(x,y,rolling_elec_ball);
    inst.direction = 0; // right
var inst = instance_create(x,y,rolling_elec_ball);
    inst.direction = 0; // right
    inst.roll_dir = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state=GRAPOUT
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state=GRAPOUT

ARMspe=ARMBACKspe

//alarm[1]=60

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i=0;

var SLICE=GRAPlenmax/GRAPnum;

repeat(GRAPnum){

    GRAPson[i].x=((x+ARMx)*FLIP)+lengthdir_x(GRAPlen*(SLICE*(i+1))/GRAPlenmax,GRAPdir)
    GRAPson[i].y=((y+ARMy))+lengthdir_y(GRAPlen*(SLICE*(i+1))/GRAPlenmax,GRAPdir)
    
    i+=1
}


if(state=GRAPOUT){

    GRAPlen-=ARMBACKspe
    
    ARMBACKspe-=ARMdecayspe
    
    if(GRAPlen&gt;=GRAPlenmax){
        GRAPlen=GRAPlenmax
        state=GRAPWAIT
        
        alarm[2]=2
        }
    
    
}

if(state=GRAPGO){

    GRAPlen=point_distance(x,y,GRAPx,GRAPy)
    
    if(point_distance(x,y,GRAPx,GRAPy)&lt;speed){
        speed=0
        x=GRAPx
        y=GRAPy+40
        state=GRAPHANG
        
        
        //china star cycle
        alarm[4]=60
        
        //hunny bomb cycle
        alarm[5]=HUNNYrate
    
        
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self()

if(state=GRAPGO){

    sprite_index=xi_grap_spr
    image_angle=direction
    image_yscale=FLIP
}

if(state=WAIT)
or
state=GRAPOUT
or
state=GRAPWAIT{
    sprite_index=xi_bot_spr

    image_angle=0
    image_xscale=FLIP
}
    
if(state=GRAPHANG){
    image_angle=0
    sprite_index=xi_hang_spr
    image_xscale=FLIP
}
    

//draw_text(x,y-40,GRAPSHOTS)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
