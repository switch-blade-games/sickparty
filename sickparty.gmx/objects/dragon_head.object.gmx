<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>dragon_head_spr</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_enemy</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>DEAD=false

enemy_init(1000000)

FLIP=1
NOshot=false
TOPpath=false

BUFFER=true



SHOTnoise=60
SHOTrate=120+random(SHOTnoise)

SHOOTERspe=1.5
SHOOTERnum=4

spe=2



MOVE=1
HALT=2

HALTtime=30

POSTHALTtime=60


state=MOVE


//where all the init code is
alarm[3]=2


////










</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i=0;

    repeat(SEGS){
    
        with(TAIL[i])
            instance_destroy()
        i+=1
    }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///init

if(NOshot=false)
alarm[0]=SHOTrate


//movement path


if(TOPpath=false)
MYmovepath=path_duplicate(dragon_low_path)
else
MYmovepath=path_duplicate(dragon_high_path)


path_start(MYmovepath,spe,path_action_continue,false)

if(FLIP=-1)
path_mirror(MYmovepath)


//tail
MYtailpath=path_add()
path_set_closed(MYtailpath,false)

PATHlen=400

SEGS=40

var i=0;

var SHOTcount=0;

//number of shooter ports
var SHOTnum=8;

var SHOTcountmax=SEGS/SHOTnum;



repeat(SEGS){

    TAIL[i]=instance_create(x,y,dragon_body)
    
    with(TAIL[i])
        event_perform(ev_create,0)
        
    TAIL[i].image_index=i
    
    SHOTcount+=1
    
    if(SHOTcount=SHOTcountmax){
        TAIL[i].SHOOTER=true
        SHOTcount=0
    }
        
    
    if(i=SEGS-1){
        TAIL[i].SHOOTER=false
        TAIL[i].sprite_index=dragon_tail_spr
        }
    
    i+=1
    
    
}

BUFFER=false

instance_create(x,y,dragon_tail_obj)



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state=MOVE

path_speed=spe

alarm[0]=SHOTrate


with(dragon_body)
    image_speed=MYspe
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//SHOOTERnum and SHOOTERspe in this object's create event
dragon_make_pills()

alarm[2]=POSTHALTtime
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>path_speed=0

state=HALT

with(dragon_body)
    image_speed=0


       
alarm[1]=HALTtime         
                

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(BUFFER=true)
exit

if(state=MOVE){

path_add_point(MYtailpath,x,y,0)
}

var SLICE=PATHlen/SEGS;

var i=0;
repeat(SEGS){

TAIL[i].x=path_get_point_x(MYtailpath,path_get_number(MYtailpath)-((i+1)*SLICE))
TAIL[i].y=path_get_point_y(MYtailpath,path_get_number(MYtailpath)-((i+1)*SLICE))

i+=1
}


    path_delete_point(MYtailpath,path_get_number(MYtailpath)-PATHlen)

    
if(TOPpath=false)
if(x&lt;-700){
    instance_destroy()
    
            
         with(fent_controller_1){
            alarm[1]=TOPdelay
            MAKEhands=true
            }
}
    
if(TOPpath=true)
if(x&gt;800){

    instance_destroy()
    
    with(fent_controller_1){
            alarm[2]=BOTTOMdelay
            MAKEhands=false
            }
}
    


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="par_actor_projectile">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dragon_hit()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(BUFFER=true)
exit

if(DEAD=true)
image_alpha=0.5


draw_text(view_xview[0]+40,view_yview[0]+40,x)

image_yscale=-1

if not(x=xprevious)
if not(y=yprevious){

    image_angle=point_direction(x,y,xprevious,yprevious)+180
    
}

if not(x=0)
if not(y=0)
draw_enemy_self()

//draw_path(MYtailpath,0,0,true)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
